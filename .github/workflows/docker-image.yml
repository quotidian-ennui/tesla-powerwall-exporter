name: docker-image

on:
  workflow_call:

jobs:
  docker-build-image:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@v4.1.1
    - name: docker-build-push
      uses: quotidian-ennui/actions-olio/docker-image-builder@main
      with:
        registry_push: true
        dockerfile: Dockerfile
        image_platforms: linux/amd64,linux/arm64/v8
        ghcr_image_name: ghcr.io/${{ github.repository }}
        ghcr_user: ${{ github.repository_owner }}
        ghcr_token: ${{ secrets.GITHUB_TOKEN }}
